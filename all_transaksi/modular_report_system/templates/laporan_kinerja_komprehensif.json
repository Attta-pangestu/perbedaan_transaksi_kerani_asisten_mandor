{
  "ffb_verification_report_template": {
    "name": "Laporan Kinerja Komprehensif",
    "description": "Template untuk laporan kinerja komprehensif dengan format PDF yang lengkap",
    "version": "1.0",
    "template_id": "laporan_kinerja_komprehensif_v1",
    "author": "System Administrator",
    "created_date": "2025-10-27",
    "last_modified": "2025-10-27",
    "tags": ["kinerja", "komprehensif", "pdf", "monthly"],
    
    "ui_flow": {
      "steps": [
        {
          "step_id": "estate_selection",
          "title": "Pilih Estate",
          "description": "Pilih estate yang akan dianalisis",
          "widget_type": "multiselect",
          "required": true
        },
        {
          "step_id": "period_selection",
          "title": "Pilih Periode",
          "description": "Pilih periode laporan",
          "widget_type": "date_range",
          "required": true
        },
        {
          "step_id": "report_options",
          "title": "Opsi Laporan",
          "description": "Konfigurasi tambahan laporan",
          "widget_type": "options",
          "required": false
        }
      ]
    },
    
    "data_processing": {
      "data_sources": [
        {
          "name": "estate_performance",
          "type": "database_query",
          "connection": "firebird",
          "query": "SELECT estate_code, estate_name, target_produksi, realisasi_produksi, jumlah_karyawan FROM performance_summary WHERE periode = :periode"
        }
      ],
      "calculations": [
        {
          "name": "persentase_pencapaian",
          "formula": "(realisasi_produksi / target_produksi) * 100",
          "type": "percentage"
        }
      ]
    },
    
    "report_format": {
      "output_format": "pdf",
      "layout": {
        "page_size": "A4",
        "orientation": "landscape",
        "margins": {
          "top": 20,
          "bottom": 20,
          "left": 20,
          "right": 20
        }
      },
      "header": {
        "enabled": true,
        "logo": {
          "enabled": true,
          "path": "assets/logo_rebinmas.jpeg",
          "width": 50,
          "height": 50
        },
        "title": {
          "text": "LAPORAN KINERJA KOMPREHENSIF",
          "font_size": 16,
          "font_weight": "bold",
          "alignment": "center"
        },
        "subtitle": {
          "text": "PT. PERKEBUNAN NUSANTARA IV",
          "font_size": 12,
          "alignment": "center"
        }
      },
      "sections": [
        {
          "id": "summary_section",
          "name": "Ringkasan Eksekutif",
          "type": "summary",
          "enabled": true,
          "content": {
            "title": "RINGKASAN EKSEKUTIF",
            "fields": [
              {
                "name": "periode_laporan",
                "label": "Periode Laporan",
                "type": "text",
                "required": true
              },
              {
                "name": "total_estates",
                "label": "Total Estate",
                "type": "number",
                "required": true
              },
              {
                "name": "total_karyawan",
                "label": "Total Karyawan",
                "type": "number",
                "required": true
              }
            ]
          }
        },
        {
          "id": "performance_table",
          "name": "Tabel Kinerja per Estate",
          "type": "table",
          "enabled": true,
          "content": {
            "title": "KINERJA PER ESTATE",
            "columns": [
              {
                "name": "estate_code",
                "label": "Kode Estate",
                "width": 80,
                "alignment": "center"
              },
              {
                "name": "estate_name",
                "label": "Nama Estate",
                "width": 150,
                "alignment": "left"
              },
              {
                "name": "target_produksi",
                "label": "Target Produksi (Ton)",
                "width": 100,
                "alignment": "right",
                "format": "number"
              },
              {
                "name": "realisasi_produksi",
                "label": "Realisasi Produksi (Ton)",
                "width": 100,
                "alignment": "right",
                "format": "number"
              },
              {
                "name": "persentase_pencapaian",
                "label": "Pencapaian (%)",
                "width": 80,
                "alignment": "center",
                "format": "percentage"
              },
              {
                "name": "jumlah_karyawan",
                "label": "Jumlah Karyawan",
                "width": 80,
                "alignment": "center"
              }
            ],
            "styling": {
              "header_background": "#4472C4",
              "header_text_color": "white",
              "alternating_rows": true,
              "border": true
            }
          }
        }
      ],
      "footer": {
        "enabled": true,
        "content": {
          "left": "Laporan dibuat secara otomatis",
          "center": "Halaman {page_number} dari {total_pages}",
          "right": "Tanggal: {current_date}"
        },
        "font_size": 8
      }
    },
    
    "parameters": [
      {
        "name": "periode",
        "label": "Periode Laporan",
        "type": "month_year",
        "required": true,
        "default": "current_month"
      },
      {
        "name": "estates",
        "label": "Estate yang Dipilih",
        "type": "multiselect",
        "required": false,
        "source": "estate_list"
      }
    ],
    
    "validation": {
      "required_fields": ["periode"],
      "data_validation": {
        "min_records": 1,
        "max_records": 1000
      }
    },
    
    "export_options": {
      "pdf": {
        "enabled": true,
        "quality": "high",
        "compression": true
      },
      "excel": {
        "enabled": true,
        "include_charts": true
      }
    }
  }
}